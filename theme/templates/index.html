{% extends "base.html" %}

{% block content %}
<p>It is {{now}}</p>
<p>You started mil service on {{start}}</p>
<p>You have been serving the damn country for {{served}} days</p>
<p>Your service ends on {{end}}</p>
<p>That leaves {{left}} days of service left</p>
<p>You are {{percent}}% done with this shithole</p>

<div class="bg-white p-8 shadow-lg shadow-slate-200 rounded-lg w-full md:w-2/3 lg:w-1/3">
  <div class="flex items-center justify-between">
    <span class="text-slate-400 text-sm text-slate-500">Teenistus</span>

    <div class="group relative w-12 ml-6 inline-block border-gray-400 text-center">
      <span class="px-2 py-1 bg-teal-50 rounded-lg text-xs text-teal-400 font-medium min-w-[46px] text-center">{{percent}}%</span>
      <div
        class="opacity-0 w-12 bg-teal-400 text-white text-center text-xs rounded-lg py-2 absolute z-10 group-hover:opacity-100 bottom-full -left-1/2 px-3 pointer-events-none">
        {{left}}
        <svg class="absolute text-black h-2 w-full left-0 top-full" x="0px" y="0px" viewBox="0 0 255 255" xml:space="preserve">
          <polygon class="fill-current" points="0,0 127.5,127.5 255,0" />
        </svg>
      </div>
    </div>

  </div>

  <div class="group relative w-full inline-block border-gray-400 text-center">
    <div class="w-full bg-slate-100 h-4 mb-6 mt-2 rounded shadow-lg shadow-slate-200">
      <div class="bg-teal-400 h-4 rounded text-xs text-center text-white" style="width: {{percent}}%">
        {{served}} / {{totalDays}}
      </div>
      <div
        class="opacity-0 w-full ml-50 bg-teal-400 text-white text-center text-xs rounded-lg py-2 absolute z-10 group-hover:opacity-100 bottom-full -left-1/2 px-3 pointer-events-none">
        {{left}} days left
        <svg class="absolute text-black h-2 w-full left-0 top-full" x="0px" y="0px" viewBox="0 0 255 255" xml:space="preserve">
          <polygon class="fill-current" points="0,0 127.5,127.5 255,0" />
        </svg>
      </div>
    </div>
  </div>

  <div class="flex flex-row justify-between">

    {%for m in weeks%}
    <div class="flex flex-col relative">
      {%for w in m%}
      <div class="overflow-hidden shadow-lg shadow-slate-200 h-8 w-8 mb-4 mt-2 text-xs rounded bg-slate-200">
        <div class="h-8 bg-teal-400 rounded shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center"
          style="width: {{w.percent}}%"></div>
        <!--           {{w.date}} -->
      </div>
      {%endfor%}
    </div>
    {%endfor%}
  </div>


</div>
{% endblock content %}